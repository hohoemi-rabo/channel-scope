# 007: 分析指標計算機能

## 概要
動画の伸び率、コメント率、いいね率などの分析指標を計算する機能の実装

## 要件
- 伸び率スコア = 再生数 ÷ (公開からの日数 + 1)
- コメント率 = (コメント数 ÷ 再生数) × 100
- いいね率 = (いいね数 ÷ 再生数) × 100

## Todo
- [x] 分析指標計算ユーティリティの作成 (lib/analytics.ts)
  - [x] 伸び率スコア計算関数
  - [x] コメント率計算関数
  - [x] いいね率計算関数
  - [x] 公開からの日数計算関数
- [x] 動画データへの分析指標追加
  - [x] Video型の拡張
  - [x] 計算結果のキャッシュ
- [x] 急上昇判定ロジック
  - [x] 閾値の設定
  - [x] 判定アルゴリズム
- [x] 新着判定ロジック
  - [x] 3日以内の判定
- [x] テストケースの作成
  - [x] エッジケースの考慮
  - [x] ゼロ除算対策

## 備考
- Phase: 2 (分析機能)
- 優先度: 高
- 依存関係: 005-channel-page.md